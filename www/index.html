<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CapyChat</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Favicon -->
    <link rel="icon" type="" href="assets/img/icon/favicon.ico">
    <!-- Textillate CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.compat.css"/>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="/eel.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
          darkMode: 'class'
        };
    </script>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-global-container">
            <div class="sidebar-title-container">
                <button id="sidebar-close-button" name="sidebar-close-button">
                    <img src="assets/img/new_icon/right_panel_close.svg"/>
                </button>
                <div class="sidebar-top-container">
                    <span class="sidebar-app-title">
                        CapyChat
                    </span>
                    <img src="assets/img/new_icon/chat-avatar.svg">
                </div>
            </div>
            <div class="sidebar-container">
                <!-- generate this block -->
                <div class="history-tile" data-id="history-item-0">
                    <a class="item-content" title="Testing chatlog history">
                        Testing chatlog history
                    </a>
                    <button class="more-button">
                        <img src="assets/img/new_icon/more_horiz.svg">
                    </button>
               </div>
               <!-- generate this block -->

               <!-- testing another -->
               <!-- <div class="history-tile" data-id="history-item-0">
                    <a class="item-content" title="Hello World Program in C++">
                        Hello World Program in C++
                    </a>
                    <button class="more-button">
                        <img src="assets/img/new_icon/more_horiz.svg">
                    </button>
                </div> -->
            </div>
            <div class="setting-button-container" id="setting-button-container">
                <span id="setting-icon" name="setting-icon">
                    <img src="assets/img/new_icon/settings.svg">
                </span>
                <span id="sidebar-settings-text">
                    Settings
                </span>
            </div>
            </div>
        </div>
        
    </div>
    <div class="voice-assisting-overlay-container">
        <div class="voice-assisting-overlay">
            <div class='wave -one'> </div>
            <div class='wave -two'></div>
        </div>
        <p class="capy-message" hidden >How can I help you today?</p>
    </div>
    <div class="wrapper">
        <div class="messages-container">
            <div class="messages-list" id="messages-list">


                <!-- <div class="user-message-container">
                    <div class="user-message-content">
                        <div class="user-message-text">Hello, this is a test message and I wnat to see how it is styled, hopefully this looks good in the final product as I am not sure if I can make it look good.
                        </div>
                    </div>
                </div>

                <div class="ai-message-container">
                    <div class="ai-message-avatar">
                        <img src="assets/img/icon/icon.png" alt="AI">
                    </div>
                    <div class="ai-message-content">
                        <div class="ai-message-text">Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.
                            It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. 
                            It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. ðŸ˜Š</div>
                    </div>
                </div> -->

            </div>
        </div>
        <div class="dot-animation" id="dot-animation" data-title="dot-elastic">
            <div class="stage">
                <div class="dot-elastic"></div>
            </div>
        </div>
        <div class="card-position">
            <div class="card">
                <textarea class="chatbox" id="chatbox" placeholder="Ask me anything"></textarea>
            </div>
            <button id="microphone-btn" class="send-mic-wrapper">
                <img src="assets/img/new_icon/mic.svg" alt="microphone">
            </button>
            <button id="send-btn" class="send-mic-wrapper" hidden>
                <img src="assets/img/new_icon/send.svg" alt="send">
            </button>
        </div>
    </div>
    <div class="settings"><!-- make hidden when microphone activate -->
        <button id="sidebar-open-button" name="sidebar-open-button">
            <img src="assets/img/new_icon/chat-avatar.svg">
        </button>
        <div id="settings-panel" class="settings-panel">
            <h3 id="settings-text">Settings</h3>
            <button id="closePanelBtn">
                <img src="assets/img/new_icon/close.svg">
            </button>
            <div class="pref-sys-web">
                <div class="settings-buttons-division-container">
                    <button name="preferences" id="preferences" class="settings-option-button">
                        <label id="preferences-text">Preferences</label>
                    </button>
                    <button name="system-command" id="system-command" class="settings-option-button">
                        <label id="system-command-text">System</label>
                    </button>
                    <button name="web-command" id="web-command" class="settings-option-button">
                        <label id="web-command-text">Web</label>
                    </button>
                    <button name="API-setting" id="API-setting" class="settings-option-button">
                        <label id="API-setting-text">API</label>    
                </div>
                <div class="menu-container">
                    <!-- Preferences Section -->
                    <div id="preferences-section" class="settings-section">
                        <label id="theme-text" name="theme-text">
                            <img src="assets/img/new_icon/theme_mode.svg" style="margin-right: 5px;">
                            Theme</label>
                        <select class="theme-select" name="theme-select" id="theme-select">
                            <option value="system">System</option>
                            <option value="dark">Dark</option>
                            <option value="light">Light</option>
                        </select>
                    </div>
                    <!-- System Settings Section -->
                    <div id="system-command-section" class="settings-section">
                        <label id="system-app-text">Add Your New System App</label>
                        <div class="non-draggable-setting-container" id="system-app-path-container">
                            <div class="input-row">
                            <input class="setting-file-input keywords-for-app" id="files-path-inputs" placeholder="Keywords" required></input>
                            <input class="setting-file-input system-app-path" id="system-app-path" placeholder="App Path" required></input>
                            <button class="add-item-button" id="add-path-button">
                                <img src="assets/img/new_icon/add.svg">
                            </button>
                            </div>
                            <div class="input-labels">
                                <span>ID</span>
                                <span class="keywords-label">Keywords</span>
                                <span class="command-label">Commands</span>
                            </div>
                            <div id="system-apps-list" class="apps-list"></div>
                        </div>
                    </div>
                    <!-- Web Settings Section -->
                    <div id="web-command-section" class="settings-section">
                        <label id="web-command-text">Add Your New Web App</label>
                        <div class="non-draggable-setting-container" id="web-app-path-container">
                            <div class="input-row">
                                <input class="setting-file-input keywords-for-url" id="keywords-for-url" placeholder="Keywords" required></input>
                                <input class="setting-file-input url-path" id="url-path" placeholder="URL Path" required></input>
                                <button class="add-item-button" id="add-url-button">
                                    <img src="assets/img/new_icon/add.svg">
                                </button>
                            </div>
                            <div class="input-labels">
                                <span>ID</span>
                                <span class="keywords-label">Keywords</span>
                                <span class="url-label">Urls</span>
                            </div>
                            <div id="web-apps-list" class="apps-list"></div>
                        </div>
                    </div>
                    <!-- API Settings Section -->
                    <div id="API-setting-section" class="settings-section">
                        <label id="openrouter-api-text">Open Router API</label>
                        <div class="non-draggable-setting-container">
                            <div class="input-row">
                                <input type="text" id="api-key-input" class="setting-file-input openrouter-api-key-input" placeholder="Open Router API key" required>
                                <button class="add-openrouter-api-button" id="add-openrouter-api-button">
                                    <img src="assets/img/new_icon/add.svg">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- jQuery and other dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/textillate/0.4.0/jquery.textillate.min.js"></script>
    <!-- Add marked.js for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Add highlight.js for code syntax highlighting (optional) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    
    <!-- general scripts -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/controller.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/settings-container.js"></script>
    
    <!-- MathJax for LaTeX support -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                tags: 'ams'
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                processHtmlClass: 'math-content'
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                pageReady() {
                    return MathJax.startup.defaultPageReady();
                }
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</body>
</html>